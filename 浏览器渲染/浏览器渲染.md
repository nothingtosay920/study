# 从输入内容开始

​		在地址栏输入内容时，先由UI线程解析是URL还是关键字。当用户按下回车键时，输入为URL后，UI线程会通知网络线程发起网络调用以获取站点内容。浏览器的网络线程与会收到服务器返回的UI线程通信。若发生重定向则发送一条新的请求。

​		若响应是HTML文件，则UI线程将数据传递给渲染器进程，但如果它是一个 zip 文件或其他一些文件，那么这意味着它是一个下载请求，所以他们需要将数据传递给下载管理器。浏览器的安全浏览检查发生在这个时候，如果响应数据与已知恶意站点相匹配，则网络线程会发出警报以显示警告页面。此外，还会进行跨源读取阻止 (CORB) 检查，以确保敏感的跨站点数据不会进入渲染器进程。

​		一旦完成所有检查并且网络线程确信浏览器应该导航到请求的站点，网络线程就会告诉 UI 线程数据已准备就绪。 UI线程然后找到一个渲染器进程来进行网页的渲染。由于网络请求可能需要数百毫秒才能获得响应，因此浏览器优化了此过程。当UI线程向网络线程发送URL请求时，它就已经知道要导航到那个站点。UI线程会与网络请求并行地主动查找或启动渲染器进程。这样，如果一切按预期进行，当网络线程接收到数据时，渲染器进程已经处于待机状态。

​		数据和渲染进程都已经准备好了，浏览器进程（browser process）会通过IPC告诉渲染进程去提交本次导航（commit navigation）。除此之外浏览器进程还会将刚刚接收到的响应数据流传递给对应的渲染进程让它继续接收到来的HTML数据。一旦浏览器进程收到渲染线程的回复说导航已经被提交了（commit），导航这个过程就结束了，文档的加载阶段（document loading phase）会正式开始。

​		此时，地址栏已更新，安全指示符和站点设置的UI 反映了新页面的站点信息。 该选项卡的会话历史将更新，因此后退/前进按钮将逐步浏览刚刚导航到的站点，会话历史记录存储在磁盘上。

​		渲染器进程会继续加载资源并渲染页面。完成后，它会通过IPC告诉浏览器进程(这是在页面中所有帧上触发onload事件并完成执行之后)。此时，UI线程停止选项卡的加载微调器(chrome左上角点刷新的那个圈圈)。