# TCP(传输控制协议)

![](https://daytime-1303889004.cos.ap-nanjing.myqcloud.com/006.png)

检验和（Checksum）：伪首部 + 首部 + 数据

伪首部的数据是从 IP 数据报头获取的，共有 12 字节，包含如下信息：源 IP 地址、目的 IP 地址、保留字节 (置 0)、传输层协议号 (TCP 是 6)、TCP 报文长度 (首部 + 数据)

标志位（Flags）：URG、ACK、PSH、RST、SYN、FIN

ACK：当ACK = 1时，确认字段才有效。

RST：当RST = 1时，表明连接中出现严重差错，必须**释放连接**，然后再重新建立连接

SYN：当SYN = 1、ACK = 0时，表明这是一个建立连接的请求。若同意建立连接则回复SYN = 1、ACK = 1

FIN：当FIN = 1时，表明数据已经发送完毕，要求释放连接。

序号：占4字节。 在传输过程中每一个字节都有一个编号。在建立连接后，序号代表这一次传给对方的TCP数据部分的第一个字节的编号。

确认号：占4字节。在建立连接后，确认号代表期望对方下一次传过来的TCP数据部分的第一个字节的编号。

窗口：占2字节。用以告知对方下一次允许发送的数据大小。